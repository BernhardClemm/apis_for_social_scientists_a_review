?readtext
??readtext
library(pacman)
pacman::p_load(
dplyr, # needed for almost any chapter in this review
ggplot2, # e.g. CH5
tidytext, # comes in handy whenever text data is being pre-processed (CH2)
devtools, # to download any package from github (e.g., RCrowdTangle in CH4)
jsonlite, # import of JSON formats (e.g., CH4)
httr, # Tools for Working with URLs and HTTP (various chapters if an API call can me made via URL)
googleLanguageR, # allows different API calls for languga processing (CH2, CH3)
RCrowdTangle, #CH4
googleway, #CH5
readtext #CH5
)
devtools::install_github("quanteda/quanteda.corpora")
devtools::install_github("cbpuschmann/RCrowdTangle")
pacman::p_load(
dplyr, # needed for almost any chapter in this review
ggplot2, # e.g. CH5
tidytext, # comes in handy whenever text data is being pre-processed (CH2)
devtools, # to download any package from github (e.g., RCrowdTangle in CH4)
jsonlite, # import of JSON formats (e.g., CH4)
httr, # Tools for Working with URLs and HTTP (various chapters if an API call can me made via URL)
googleLanguageR, # allows different API calls for languga processing (CH2, CH3)
RCrowdTangle, #CH4
googleway, #CH5
mapsapi, #CH5
stars #CH5
)
# Option 1: Accessing the API with base "httr" commands
library(httr)
key <- "YOURAPIKEY"
res<-GET("https://maps.googleapis.com/maps/api/place/textsearch/json?", query = list(
query = "pizza",
location = "49.487459,8.466039",
radius = 5000,
key = key
))
?set_key
key
library(httr)
key <- "YOURAPIKEY"
res<-GET("https://maps.googleapis.com/maps/api/place/textsearch/json?", query = list(
query = "pizza",
location = "49.487459,8.466039",
radius = 5000,
key = key
))
res
paste0("./keys/google_places_key.txt")
readtext::readtext(paste0("./keys/google_places_key.txt"))
paste0("./keys/google_places_key.txt")
readtext::readtext(paste0("./keys/google_places_key.txt"))
readtext::readtext(paste0("./keys/google_places_key.txt"))$text
readtext::readtext(paste0("./keys/google_places_key.txt"))$text
key<-readtext::readtext(paste0("./keys/google_places_key.txt"))$text
key
library(googleway)
set_key(key$text)
readtext::readtext(paste0("./keys/google_places_key.txt"))
readtext::readtext(paste0("./keys/google_places_key.txt"))$text
key<-readtext::readtext(paste0("./keys/google_places_key.txt"))$text
key
key<-readtext::readtext(paste0("./keys/google_places_key.txt"))
library(googleway)
set_key(key$text)
library(ggplot2)
library(tidyverse)
library(googleway)
# Request 'Mannheim' to get latitude and longitude information
location <- googleway::google_places("Mannheim")
# Save latitude and longitude information in vector
location <- location$results$geometry
location <- c(location$location$lat, location$location$lng)
# Plot places to google map
library(mapsapi)
# for this you will also need to activate the "maps static API"
r = mapsapi::mp_map(center = ("49.48746,8.466039"), zoom = 14, key = key, quiet = TRUE)
library(stars)
plot(r)
key<-readtext::readtext(paste0("./keys/google_places_key.txt"))
library(googleway)
set_key(key$text)
# Option 2: Accessing the API with googleway
library(ggplot2)
library(tidyverse)
library(googleway)
# Request 'Mannheim' to get latitude and longitude information
location <- googleway::google_places("Mannheim")
# Save latitude and longitude information in vector
location <- location$results$geometry
location <- c(location$location$lat, location$location$lng)
# Plot places to google map
library(mapsapi)
# for this you will also need to activate the "maps static API"
r = mapsapi::mp_map(center = ("49.48746,8.466039"), zoom = 14, key = key, quiet = TRUE)
library(stars)
plot(r)
pizza <- google_places("Pizza", location = location, radius = 5000, place_type = "food")
# Plot rankings as barplot
pizza$results %>%
ggplot() +
geom_col(aes(x = reorder(name, rating), y = rating)) +
geom_text(aes(x = reorder(name, rating), y = rating),
label = paste0(pizza$results$user_ratings_total, " \n ratings"), size = 2) +
ylab("Average Rating")+
xlab("") +
ggtitle("Pizza Places in Mannheim by Rating") +
theme_minimal() +
theme(
axis.text.x = element_text(angle = 90, size = 8, hjust=0.95,vjust=0.2))
map<-googleway::google_map(location = location)
googleway::add_markers(map, data = pizza$results$geometry$location)
key<-readtext::readtext(paste0("./keys/google_places_key.txt"))
library(googleway)
set_key(key$text)
library(ggplot2)
library(tidyverse)
library(googleway)
# Request 'Mannheim' to get latitude and longitude information
location <- googleway::google_places("Mannheim")
# Save latitude and longitude information in vector
location <- location$results$geometry
location <- c(location$location$lat, location$location$lng)
library(mapsapi)
# for this you will also need to activate the "maps static API"
r = mapsapi::mp_map(center = ("49.48746,8.466039"), zoom = 14, key = key, quiet = TRUE)
library(stars)
plot(r)
pacman::p_load(
dplyr, # needed for almost any chapter in this review
ggplot2, # e.g. CH5
tidytext, # comes in handy whenever text data is being pre-processed (CH2)
devtools, # to download any package from github (e.g., RCrowdTangle in CH4)
jsonlite, # import of JSON formats (e.g., CH4)
httr, # Tools for Working with URLs and HTTP (various chapters if an API call can me made via URL)
googleLanguageR, # allows different API calls for languga processing (CH2, CH3)
RCrowdTangle, #CH4
googleway, #CH5
mapsapi, #CH5
stars, #CH5
httr
)
??POST
